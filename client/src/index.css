@tailwind base;
@tailwind components;
@tailwind utilities;

/* Custom styles */
body {
  min-height: 100vh;
  background: linear-gradient(135deg, #fef3c7 0%, #fde68a 50%, #fcd34d 100%);
}

/* Quilted pattern for the game board */
.quilt-pattern {
  background-image: 
    linear-gradient(45deg, rgba(251, 191, 36, 0.3) 25%, transparent 25%),
    linear-gradient(-45deg, rgba(251, 191, 36, 0.3) 25%, transparent 25%),
    linear-gradient(45deg, transparent 75%, rgba(251, 191, 36, 0.3) 75%),
    linear-gradient(-45deg, transparent 75%, rgba(251, 191, 36, 0.3) 75%);
  background-size: 20px 20px;
  background-position: 0 0, 0 10px, 10px -10px, -10px 0px;
}

/* Stitched border effect */
.stitched {
  position: relative;
}

.stitched::before {
  content: '';
  position: absolute;
  inset: 4px;
  border: 2px dashed rgba(0, 0, 0, 0.2);
  border-radius: inherit;
  pointer-events: none;
}

/* Piece styles */
.piece-kitten {
  @apply rounded-full shadow-piece transition-all duration-200;
}

.piece-cat {
  @apply rounded-lg shadow-piece transition-all duration-200;
}

.piece-orange {
  background: linear-gradient(135deg, #fb923c 0%, #f97316 50%, #ea580c 100%);
}

.piece-gray {
  background: linear-gradient(135deg, #94a3b8 0%, #64748b 50%, #475569 100%);
}

/* Cell hover effect */
.cell-empty:hover {
  @apply bg-yellow-200/50;
}

/* Turn indicator glow */
.turn-active {
  animation: glow 2s ease-in-out infinite;
}

/* Win celebration */
@keyframes celebrate {
  0%, 100% { transform: scale(1) rotate(0deg); }
  25% { transform: scale(1.1) rotate(-5deg); }
  75% { transform: scale(1.1) rotate(5deg); }
}

.celebrating {
  animation: celebrate 0.5s ease-in-out infinite;
}

/* Loading spinner */
.spinner {
  border: 3px solid rgba(251, 191, 36, 0.3);
  border-top-color: #f97316;
  border-radius: 50%;
  animation: spin 1s linear infinite;
}

@keyframes spin {
  to { transform: rotate(360deg); }
}

/* Room code styling */
.room-code {
  font-family: 'Courier New', monospace;
  letter-spacing: 0.1em;
}

/* Button styles */
.btn-primary {
  @apply px-6 py-3 bg-boop-orange-500 hover:bg-boop-orange-600 text-white font-bold rounded-xl shadow-lg transform hover:scale-105 transition-all duration-200;
}

.btn-secondary {
  @apply px-6 py-3 bg-boop-gray-500 hover:bg-boop-gray-600 text-white font-bold rounded-xl shadow-lg transform hover:scale-105 transition-all duration-200;
}

/* Card styles */
.card {
  @apply bg-white/90 backdrop-blur-sm rounded-2xl shadow-xl p-6;
}

/* Input styles */
.input {
  @apply w-full px-4 py-3 border-2 border-boop-orange-200 rounded-xl focus:border-boop-orange-400 focus:outline-none focus:ring-2 focus:ring-boop-orange-200 transition-all;
}

/* Ghost piece styling (shows where booped pieces came from) */
.ghost-piece {
  pointer-events: none;
}

/* Graduation glow effect */
.graduating-glow {
  animation: graduation-glow 0.6s ease-in-out;
}

@keyframes graduation-glow {
  0%, 100% {
    box-shadow: 0 0 0 0 rgba(251, 191, 36, 0);
  }
  50% {
    box-shadow: 0 0 20px 8px rgba(251, 191, 36, 0.8), 0 0 40px 16px rgba(251, 191, 36, 0.4);
  }
}

/* Graduation sparkles container */
.graduation-sparkles {
  position: absolute;
  inset: -20px;
  pointer-events: none;
  overflow: visible;
}

/* Individual sparkles */
.sparkle {
  position: absolute;
  font-size: 16px;
  animation-duration: 0.8s;
  animation-timing-function: ease-out;
  animation-fill-mode: forwards;
  opacity: 0;
}

.sparkle-1 {
  top: 0;
  left: 50%;
  animation-name: sparkle-up;
}

.sparkle-2 {
  top: 50%;
  right: 0;
  animation-name: sparkle-right;
  animation-delay: 0.1s;
}

.sparkle-3 {
  bottom: 0;
  left: 50%;
  animation-name: sparkle-down;
  animation-delay: 0.2s;
}

.sparkle-4 {
  top: 50%;
  left: 0;
  animation-name: sparkle-left;
  animation-delay: 0.15s;
}

@keyframes sparkle-up {
  0% {
    opacity: 1;
    transform: translateY(0) scale(0.5);
  }
  100% {
    opacity: 0;
    transform: translateY(-25px) scale(1.2);
  }
}

@keyframes sparkle-right {
  0% {
    opacity: 1;
    transform: translateX(0) scale(0.5);
  }
  100% {
    opacity: 0;
    transform: translateX(25px) scale(1.2);
  }
}

@keyframes sparkle-down {
  0% {
    opacity: 1;
    transform: translateY(0) scale(0.5);
  }
  100% {
    opacity: 0;
    transform: translateY(25px) scale(1.2);
  }
}

@keyframes sparkle-left {
  0% {
    opacity: 1;
    transform: translateX(0) scale(0.5);
  }
  100% {
    opacity: 0;
    transform: translateX(-25px) scale(1.2);
  }
}

/* Graduating piece pulse */
.graduating-piece {
  z-index: 10;
}

/* Pulsing glow for turn indicator */
@keyframes glow {
  0%, 100% {
    box-shadow: 0 0 5px rgba(251, 191, 36, 0.5);
  }
  50% {
    box-shadow: 0 0 20px rgba(251, 191, 36, 0.8), 0 0 30px rgba(251, 191, 36, 0.4);
  }
}

/* History slider styles */
.history-slider {
  @apply bg-white/70 backdrop-blur-sm rounded-xl p-3 shadow-lg;
}

.history-btn {
  @apply w-10 h-10 rounded-lg bg-white border border-gray-200 flex items-center justify-center 
         text-lg font-medium text-gray-600 transition-all duration-150
         hover:bg-gray-50 hover:border-gray-300 hover:text-gray-800
         disabled:opacity-40 disabled:cursor-not-allowed disabled:hover:bg-white disabled:hover:border-gray-200;
}

.history-range {
  @apply h-2 rounded-full appearance-none cursor-pointer;
  background: linear-gradient(to right, #f97316 0%, #f97316 var(--progress, 0%), #e5e7eb var(--progress, 0%), #e5e7eb 100%);
}

.history-range::-webkit-slider-thumb {
  @apply appearance-none w-5 h-5 rounded-full bg-boop-orange-500 cursor-pointer shadow-md 
         border-2 border-white transition-transform;
}

.history-range::-webkit-slider-thumb:hover {
  @apply scale-110;
}

.history-range::-moz-range-thumb {
  @apply w-5 h-5 rounded-full bg-boop-orange-500 cursor-pointer shadow-md border-2 border-white;
}

/* Move list styles */
.move-list {
  @apply space-y-1;
}

.move-list-item {
  @apply w-full flex items-center gap-2 px-3 py-1.5 text-left text-sm rounded-lg 
         transition-all duration-150 hover:bg-amber-100;
}

.move-list-item.active {
  @apply bg-amber-200 font-medium;
}

.move-number {
  @apply font-mono text-xs w-6;
}

.move-notation {
  @apply flex-1;
}

/* Ghost piece styling for history view */
.ghost-piece-indicator {
  @apply absolute inset-0 border-2 border-dashed rounded-lg pointer-events-none;
}

.ghost-piece-indicator.orange {
  @apply border-boop-orange-400 bg-boop-orange-100/30;
}

.ghost-piece-indicator.gray {
  @apply border-boop-gray-400 bg-boop-gray-100/30;
}

/* Placed piece indicator */
.placed-piece-indicator {
  @apply absolute inset-0 rounded-lg pointer-events-none ring-4 ring-yellow-400 ring-offset-2;
}

/* Boop arrow indicator */
.boop-arrow {
  @apply absolute pointer-events-none text-2xl z-20;
  animation: boop-fade 2s ease-out forwards;
}

@keyframes boop-fade {
  0% { opacity: 1; transform: scale(1); }
  70% { opacity: 1; }
  100% { opacity: 0; transform: scale(0.8); }
}
